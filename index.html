<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>MikkelUndKristians Super Awesome GameJam game</title>
		<style>
			html,body{height:100%;margin:0;overflow:hidden;padding:0;width: 100dvw;height: 100dvh;}
			body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
			#canvas-container{width:100%;height:100%;display:block;overflow:hidden}
			#overlay{position:fixed;left:12px;top:12px;color:#fff;background:rgba(0,0,0,0.35);padding:8px 12px;border-radius:6px;z-index:10}
			#instructions{font-size:13px;line-height:1.4}
			a { color: #9cf }
			
			/* Crosshair for aiming */
			#crosshair {
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 4px;
				height: 4px;
				background: white;
				border-radius: 50%;
				pointer-events: none;
				z-index: 100;
				box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
			}
			
			/* Mobile controls */
			#mobile-controls {
				position: fixed;
				bottom: 0;
				left: 0;
				width: 100%;
				height: 200px;
				pointer-events: none;
				z-index: 200;
				display: none;
			}
			
			#joystick-container {
				position: absolute;
				bottom: 30px;
				left: 30px;
				width: 120px;
				height: 120px;
				pointer-events: auto;
			}
			
			#joystick-base {
				width: 100%;
				height: 100%;
				background: rgba(255, 255, 255, 0.2);
				border: 3px solid rgba(255, 255, 255, 0.4);
				border-radius: 50%;
				position: relative;
			}
			
			#joystick-stick {
				width: 50px;
				height: 50px;
				background: rgba(255, 255, 255, 0.6);
				border: 2px solid rgba(255, 255, 255, 0.8);
				border-radius: 50%;
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				transition: all 0.1s;
			}
			
			#jump-button {
				position: absolute;
				bottom: 30px;
				right: 30px;
				width: 80px;
				height: 80px;
				background: rgba(255, 100, 100, 0.6);
				border: 3px solid rgba(255, 255, 255, 0.6);
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
				color: white;
				font-size: 24px;
				font-weight: bold;
				pointer-events: auto;
				user-select: none;
				-webkit-user-select: none;
			}
			
			#jump-button:active {
				background: rgba(255, 100, 100, 0.9);
				transform: scale(0.95);
			}
			
			/* Show mobile controls on touch devices */
			@media (hover: none) and (pointer: coarse) {
				#mobile-controls {
					display: block;
				}
				#overlay {
					font-size: 11px;
				}
			}
			
			/* Loading screen */
			#loading-screen {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				z-index: 1000;
				transition: opacity 0.5s ease-out;
			}
			
			#loading-screen.fade-out {
				opacity: 0;
				pointer-events: none;
			}
			
			#loading-title {
				color: white;
				font-size: 32px;
				font-weight: bold;
				margin-bottom: 30px;
				text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
			}
			
			#loading-bar-container {
				width: 400px;
				max-width: 80vw;
				height: 30px;
				background: rgba(255, 255, 255, 0.2);
				border-radius: 15px;
				overflow: hidden;
				box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
			}
			
			#loading-bar {
				height: 100%;
				width: 0%;
				background: linear-gradient(90deg, #4CAF50 0%, #8BC34A 100%);
				border-radius: 15px;
				transition: width 0.3s ease-out;
				box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
			}
			
			#loading-text {
				color: white;
				font-size: 16px;
				margin-top: 15px;
				text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
			}
		</style>
		<script type="importmap">
			{
				"imports": {
					"three": "https://unpkg.com/three@0.152.2/build/three.module.js",
					"three/addons/": "https://unpkg.com/three@0.152.2/examples/jsm/"
				}
			}
		</script>
	</head>
	<body>
		<!-- Loading Screen -->
		<div id="loading-screen">
			<div id="loading-title">Loading Game...</div>
			<div id="loading-bar-container">
				<div id="loading-bar"></div>
			</div>
			<div id="loading-text">0%</div>
		</div>
		
		<div id="canvas-container"></div>
		<div id="crosshair"></div>
		<div id="overlay">
			<div id="instructions">
				<strong>Control Mohamed</strong>
				<div>W/A/S/D or Arrow keys — move</div>
				<div>Space — jump</div>
				<div>E — toggle cinema interaction mode</div>
				<div>Mouse — look around (click to lock pointer)</div>
				<div>Click screenshot in venue — open content</div>
				<div>Escape — close iframe</div>
				<div style="margin-top:6px;font-size:12px;opacity:0.9">Mohamed animates: idle → walk → run</div>
				<div id="coordinates" style="margin-top:6px;font-size:12px;font-family:monospace">
					Position: X: 0.0, Y: 0.0, Z: 0.0
				</div>
			</div>
		</div>

		<!-- Mobile Controls -->
		<div id="mobile-controls">
			<div id="joystick-container">
				<div id="joystick-base">
					<div id="joystick-stick"></div>
				</div>
			</div>
			<div id="jump-button">JUMP</div>
		</div>

		<!-- Game module (uses ES modules and CDN for Three.js) -->
		<script type="module">
			import './src/game.js';
		</script>
	</body>
</html>

